<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - Movie Theater</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .film-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .film-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-50">
    <nav class="bg-blue-600 text-white p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-xl font-bold">MovieMax Cinemas</h1>
            <div>
                <a href="#films" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700">Now Showing</a>
                <a href="#my-tickets" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700">My Tickets</a>
                <a href="login.html" class="ml-4 px-3 py-2 rounded-md text-sm font-medium bg-red-500 hover:bg-red-600">Logout</a>
            </div>
        </div>
    </nav>

    <div class="container mx-auto p-6">
        <!-- Now Showing Films Section -->
        <section id="films" class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">Now Showing</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Example Film Card 1 (Dynamically generate these with JS from /api/films/showAll and /api/scheduls/showAll) -->
                <div class="film-card bg-white rounded-lg shadow-lg overflow-hidden">
                    <img src="https://placehold.co/600x400/007bff/white?text=Movie+Poster+1" alt="Movie Poster" class="w-full h-64 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-gray-700">Film Title One</h3>
                        <p class="text-sm text-gray-500 mb-1">Genre: Action, Sci-Fi</p>
                        <p class="text-sm text-gray-600 mb-3 h-20 overflow-y-auto">Synopsis: A brief description of the movie goes here. It should be engaging and give an idea of the plot...</p>
                        <p class="text-sm text-gray-600 mb-1"><strong>Duration:</strong> 02:15:00</p>
                        <p class="text-sm text-gray-600 mb-1"><strong>Price:</strong> Rp 50,000</p>
                        <p class="text-sm text-gray-600 mb-3"><strong>Schedule:</strong> (Jadwal ID: J001) - 2025-07-15 at 19:00 in Room A1</p>
                        
                        <form action="/api/payments/buy" method="POST" class="mt-4">
                            <!-- Hidden user credentials - REPLACE with actual session/token handling -->
                            <input type="hidden" name="username" value="LOGGED_IN_USER_USERNAME">
                            <input type="hidden" name="password" value="LOGGED_IN_USER_PASSWORD">
                            
                            <!-- The PaymentController expects @RequestBody String jadwalId.
                                 A standard form sends it as a parameter.
                                 If backend strictly needs it in body, JS fetch is required.
                                 Assuming 'jadwalId' as a request param is acceptable for now. -->
                            <input type="hidden" name="jadwalId" value="J001"> <!-- Example Schedule ID -->
                            
                            <div class="mb-3">
                                <label for="payment-film1" class="block text-sm font-medium text-gray-600">Payment Amount (Rp)</label>
                                <input type="number" id="payment-film1" name="pembayaran" required min="50000" step="1000"
                                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-md transition duration-150">
                                Buy Ticket
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Example Film Card 2 -->
                <div class="film-card bg-white rounded-lg shadow-lg overflow-hidden">
                    <img src="https://placehold.co/600x400/28a745/white?text=Movie+Poster+2" alt="Movie Poster" class="w-full h-64 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-gray-700">Film Title Two</h3>
                        <p class="text-sm text-gray-500 mb-1">Genre: Comedy, Drama</p>
                        <p class="text-sm text-gray-600 mb-3 h-20 overflow-y-auto">Another exciting movie about adventure and discovery. Perfect for the whole family...</p>
                        <p class="text-sm text-gray-600 mb-1"><strong>Duration:</strong> 01:55:00</p>
                        <p class="text-sm text-gray-600 mb-1"><strong>Price:</strong> Rp 45,000</p>
                        <p class="text-sm text-gray-600 mb-3"><strong>Schedule:</strong> (Jadwal ID: J002) - 2025-07-16 at 20:30 in Room B2</p>

                        <form action="/api/payments/buy" method="POST" class="mt-4">
                            <input type="hidden" name="username" value="LOGGED_IN_USER_USERNAME">
                            <input type="hidden" name="password" value="LOGGED_IN_USER_PASSWORD">
                            <input type="hidden" name="jadwalId" value="J002">
                            <div class="mb-3">
                                <label for="payment-film2" class="block text-sm font-medium text-gray-600">Payment Amount (Rp)</label>
                                <input type="number" id="payment-film2" name="pembayaran" required min="45000" step="1000"
                                       class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-md transition duration-150">
                                Buy Ticket
                            </button>
                        </form>
                    </div>
                </div>
                <!-- Add more film cards as needed or generate dynamically -->
            </div>
        </section>

        <!-- My Tickets Section -->
        <section id="my-tickets" class="mb-8 p-6 bg-white rounded-lg shadow">
            <h2 class="text-2xl font-semibold mb-6 text-gray-700 border-b pb-2">My Tickets</h2>
            <p class="text-gray-600 italic">
                Your booked tickets will appear here. This section would be populated dynamically using JavaScript
                by calling the <code>/api/payments/userTicket</code> endpoint.
            </p>
            <!-- Example Ticket Display (to be generated by JS) -->
            <div class="mt-4 border border-gray-200 rounded-md p-4">
                <h4 class="font-semibold text-lg text-blue-600">Ticket for: Film Title One</h4>
                <p class="text-sm text-gray-600"><strong>Schedule:</strong> 2025-07-15 at 19:00, Room A1</p>
                <p class="text-sm text-gray-600"><strong>Issued:</strong> 2025-07-10 10:30:00</p>
                <p class="text-sm text-gray-600"><strong>Payment:</strong> Rp 50,000 (Change: Rp 0)</p>
                <p class="text-sm text-gray-600"><strong>Ticket ID:</strong> TICKET123XYZ</p>
            </div>
            <!-- Note: The /api/payments/userTicket endpoint expects @RequestBody User user.
                 This is non-standard for a GET-like operation and would typically require JavaScript
                 to construct the User JSON object and send it with a POST request, even if it's just to fetch data.
                 Alternatively, the backend could be modified to accept userId from path/query or rely on session. -->
        </section>
    </div>

    <footer class="text-center p-4 text-sm text-gray-600 bg-gray-200 mt-12">
        MovieMax Cinemas &copy; 2024
    </footer>
</body>
</html>
